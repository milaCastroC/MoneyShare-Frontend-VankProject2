<div class="edit-share-expense-container">
  <!-- Header -->
  <app-header title="EDITAR SHAREEXPENSE"></app-header>

  <!-- Main Content -->
  <div class="main-content">
    <div class="form-container">
      <button class="back-btn" (click)="goBack()">
        <span class="back-icon">‚Üê</span> Volver
      </button>
      
      <h2 class="form-title">Editar ShareExpense</h2>
      
      <div class="form-group">
        <label for="shareName">Nombre:</label>
        <input 
          type="text" 
          id="shareName" 
          class="form-control" 
          [(ngModel)]="shareName" 
          placeholder="Ingresa el nombre del ShareExpense"
        >
      </div>
      
      <div class="form-group">
        <label for="shareDescription">Descripci√≥n (opcional)</label>
        <textarea 
          id="shareDescription" 
          class="form-control textarea" 
          [(ngModel)]="shareDescription" 
          placeholder="Ingresa una descripci√≥n para el ShareExpense"
          rows="4"
        ></textarea>
      </div>
      
      <div class="form-group">
        <label>Porcentajes</label>
        
        <div class="participants-list">
          <div class="participant-item" *ngFor="let participant of participants">
            <div class="participant-info">
              <div class="participant-avatar">
                <span class="avatar-icon">üë§</span>
              </div>
              <span class="participant-name">{{ participant.username }}</span>
            </div>
            
            <div class="participant-percentage">
              <!-- Modo de visualizaci√≥n -->
              <div *ngIf="!participant.isEditing" class="percentage-display">
                <span class="percentage-badge" (click)="startEditingPercentage(participant)">
                  {{ formatPercentage(participant.percentage) }}
                </span>
                <span class="amount-badge">{{ formatCurrency(participant.amount_to_pay) }}</span>
              </div>
              
              <!-- Modo de edici√≥n -->
              <div *ngIf="participant.isEditing" class="percentage-edit">
                <div class="percentage-input-container">
                  <input 
                    type="number" 
                    class="percentage-input" 
                    [value]="participant.percentage" 
                    #percentageInput
                    min="0.001" 
                    max="100" 
                    step="0.001"
                  >
                  <span class="percentage-symbol">%</span>
                </div>
                <div class="edit-actions">
                  <button class="edit-action-btn save-btn" (click)="savePercentage(participant, percentageInput.value)">
                    ‚úì
                  </button>
                  <button class="edit-action-btn cancel-btn" (click)="cancelEditingPercentage(participant)">
                    ‚úï
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="form-actions">
        <button class="save-btn" (click)="saveChanges()">Guardar cambios</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="app-footer">
    <div class="footer-section">
      <h3>Comun√≠cate con nosotros:</h3>
      <p>Email: sharemoney.soporte&#64;gmail.com</p>
      <p>Tel√©fono: 1234567890</p>
    </div>
    
    <div class="footer-section">
      <h3>Pol√≠ticas</h3>
      <p>Pol√≠ticas de privacidad</p>
      <p>T√©rminos y condiciones</p>
      <p>Soporte</p>
    </div>
    
    <div class="footer-section">
      <h3>S√≠guenos</h3>
      <div class="social-links">
        <a href="#" class="social-link facebook">Facebook </a>
        <a href="#" class="social-link instagram">Instagram</a>
      </div>
    </div>
    
    <div class="copyright">
      <p>¬© 2025 ShareMoney. Todos los derechos reservados</p>
    </div>
  </footer>
</div>